##
# parser args for manipulating profiles
profile_title: &profile_title 
    - 'title'
    -   
        action: 'store'
        nargs: '?'
        default: null
profile_paths: &profile_paths
    - '-f'
    - 
        action: 'append'
        metavar: 'path'
        dest: 'profile_paths'
profile_n: &profile_n
    - '-n'
    -
        action: 'store'
##
# Catch all parser for finding action
pre:
    args:
        -   
            - 'action'
            -
                nargs: '?'
                action: 'store'
##
# Base options that should always be available
base:
    args:
        -
            - '-q'
            - 
                action: 'store_true'
        -
            - '-v'
            - 
                default: 0
                action: 'count'
                dest: 'verbosity'
        -
            - '--user-dir'
            - 
                dest: 'user_dir'
                default: '~/.rainmaker'
        -
            - '--log'
            - 
                choices: ['debug','info','warn','error','none']
                dest: 'log_level'
                default: 'info'
auto:
    args:
        -   
            - 'action'
            -
                choices: ['create','delete','daemon','list','update','start','auto','info']
                default: 'auto'
                nargs: '?'
                action: 'store'
create:

    args:
        -   
            - 'action'
            -
                metavar: 'create'
                action: 'store'
        -
            - 'type'
            -
                choices: ['unison','basic']
                help: 'Type of profile to create. Basic creates a generic profile. Unison creates a Unison sync profile.'
                default: 'unison'
                action: 'store'
                nargs: '?'
list:
    args:
        -   
            - 'action'
            -
                metavar: 'list'
                action: 'store'
        - *profile_title
        - *profile_n
        - *profile_paths
        -
            - '--attr'
            -
                action: 'append'
                dest: 'attrs'
delete:
    args:
        -   
            - 'action'
            -
                metavar: 'delete'
                action: 'store'
        - *profile_title
        - *profile_n
        - *profile_paths
update:
    args:
        -   
            - 'action'
            -
                metavar: 'update'
                action: 'store'
        - *profile_title
        - *profile_n
        - *profile_paths
start:
    args:
        -   
            - 'action'
            -
                metavar: 'start'
                action: 'store'
        - *profile_title
        - *profile_n
        - *profile_paths
stop:
    args:
        -   
            - 'action'
            -
                metavar: 'stop'
                action: 'store'
        - *profile_title
        - *profile_n
        - *profile_paths
status:
    args:
        -
            - 'action'
            -
                help: 'Status of app'
                action: 'store'
                metavar: 'status'
info:
    args:
        -
            - 'action'
            -
                help: 'Info about installation'
                action: 'store'
                metavar: 'info'
daemon:
    args:
        -   
            - 'action'
            -
                help: 'Daemon mode, monitor file system for activity'
                metavar: 'daemon'
                action: 'store'
        - *profile_title
        - *profile_n
        - *profile_paths
